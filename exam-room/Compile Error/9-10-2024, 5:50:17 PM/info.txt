{"id":1385982501,"question_id":885,"lang":"cpp","lang_name":"C++","time":"2 months, 3 weeks","timestamp":1726015817,"status":20,"status_display":"Compile Error","runtime":"N/A","url":"/submissions/detail/1385982501/","is_pending":"Not Pending","title":"Exam Room","memory":"N/A","code":"class ExamRoom {\npublic:\n    set<pair<int, pair<int, int>>> s;\n    map<int, pair<set<pair<int, pair<int, int>>>::iterator, set<pair<int, pair<int, int>>>::iterator>> m;\n    int N;\n    ExamRoom(int n) {\n        N = n;\n    }\n    \n    int seat() {\n        auto it = s.rbegin();\n        pair<int, int> x = it->second;\n        int mid = (x.first + x.second) / 2;\n        \n        auto l = s.insert({(x.first + mid)/2, {x.first, mid}}).first;\n        auto r = s.insert({(mid + x.second)/2, {mid, x.second}}).first;\n        m[mid] = {l, r};\n        s.erase(it);\n    }\n    \n    void leave(int p) {\n        auto l = m[p].first;\n        auto r = m[p].second;\n        \n        s.insert({(l.second.first + r.second.second)/2, {l.second.first, r.second.second}});\n        s.erase(l);\n        s.erase(r);\n        m[p] = {nullptr, nullptr};\n    }\n};\n\n/**\n * Your ExamRoom object will be instantiated and called as such:\n * ExamRoom* obj = new ExamRoom(n);\n * int param_1 = obj->seat();\n * obj->leave(p);\n */","compare_result":null,"title_slug":"exam-room","has_notes":false,"flag_type":1}
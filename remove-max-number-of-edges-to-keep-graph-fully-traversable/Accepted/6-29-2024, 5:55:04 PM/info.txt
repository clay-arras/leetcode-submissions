{"id":1304288692,"question_id":1701,"lang":"cpp","lang_name":"C++","time":"5 months, 1 week","timestamp":1719708904,"status":10,"status_display":"Accepted","runtime":"395 ms","url":"/submissions/detail/1304288692/","is_pending":"Not Pending","title":"Remove Max Number of Edges to Keep Graph Fully Traversable","memory":"168.2 MB","code":"class Solution {\npublic:\n    struct DSU {\n        vector<int> e;\n        void init(int N) {\n            e = vector<int>(N,-1);\n        }\n        int get(int x) {\n            if (e[x] < 0)\n                return x;\n            return e[x] = get(e[x]);\n        }\n        int size(int x) {\n            return -e[get(x)];\n        }\n        bool unite(int x, int y) {\n            x = get(x), y = get(y);\n            if (x == y)\n                return 0;\n            if (e[x] > e[y])\n                swap(x,y);\n            e[x] += e[y];\n            e[y] = x;\n            return 1;\n        }\n    };\n\n    int maxNumEdgesToRemove(int n, vector<vector<int>>& edges) {\n        DSU d1, d2;\n        d1.init(n);\n        d2.init(n);\n\n        vector<pair<int, int>> t[3];\n        for (auto i : edges) \n            t[--i[0]].push_back({--i[1], --i[2]});\n\n        int cnt = 0;\n        for (auto [f, s] : t[2]) {\n            if (d1.get(f) != d1.get(s)) {\n                cnt++;\n                d1.unite(f, s);\n                d2.unite(f, s);\n            }\n        }\n        for (auto [f, s] : t[1]) {\n            if (d2.get(f) != d2.get(s)) {\n                cnt++;\n                d2.unite(f, s);\n            }\n        }\n        for (auto [f, s] : t[0]) {\n            if (d1.get(f) != d1.get(s)) {\n                cnt++;\n                d1.unite(f, s);\n            }\n        }\n        if (d1.size(0) != n || d2.size(0) != n)\n            return -1;\n        return (int)edges.size() - cnt;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"remove-max-number-of-edges-to-keep-graph-fully-traversable","has_notes":false,"flag_type":1}
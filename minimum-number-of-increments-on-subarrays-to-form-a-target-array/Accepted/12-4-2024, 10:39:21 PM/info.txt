{"id":1470786537,"question_id":1633,"lang":"cpp","lang_name":"C++","time":"17 hours, 51 minutes","timestamp":1733380761,"status":10,"status_display":"Accepted","runtime":"190 ms","url":"/submissions/detail/1470786537/","is_pending":"Not Pending","title":"Minimum Number of Increments on Subarrays to Form a Target Array","memory":"137.1 MB","code":"class Solution {\npublic:\ntemplate<class T>\n    struct RMQ {\n        vector<T> v; vector<vector<int>> jmp;\n        int level(int x) { return 31-__builtin_clz(x); }\n        int cmb(int a, int b) {\n            if (v[a] == v[b])\n                return min(a, b);\n            return v[a] < v[b] ? a : b;\n        }\n        void init(const vector<T>& _v) {\n            int sz = (int)_v.size();\n            jmp = { vector<int>(sz) };\n            v = _v;\n            iota(jmp[0].begin(), jmp[0].end(), 0);\n            for (int j=1; (1<<j)<=sz; j++) {\n                jmp.push_back(vector<int>(sz-(1<<j)+1));\n                for (int i=0; i<(int)jmp[j].size(); i++)\n                    jmp[j][i] = cmb(jmp[j-1][i], jmp[j-1][i+(1<<(j-1))]);\n            }\n        }\n        int index(int l, int r) {\n            int d = level(r-l+1);\n            assert(l <= r);\n            return cmb(jmp[d][l], jmp[d][r-(1<<d)+1]);\n        }\n        T query(int l, int r) { return v[index(l,r)]; }\n    };\n    RMQ<int> spt;\n\n    int solve(vector<int>& target, int start, int end, int k) {\n        if (start > end) \n            return 0;\n        \n        int minIdx = spt.index(start, end);\n        int minOps = max(0, target[minIdx] - k);\n        int l = solve(target, start, minIdx-1, target[minIdx]);\n        int r = solve(target, minIdx+1, end, target[minIdx]);\n\n        return minOps + l + r;\n    }\n\n    int minNumberOperations(vector<int>& target) {\n        spt.init(target);\n        return solve(target, 0, target.size()-1, 0);\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"minimum-number-of-increments-on-subarrays-to-form-a-target-array","has_notes":false,"flag_type":1}